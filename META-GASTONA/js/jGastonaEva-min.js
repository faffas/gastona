/*
jGastonaEva-min.js version 0.20170702 / perito moreno
composed by Eva.js + EvaLayout.js + LayoutManager.js + httSaco.js + jGastona.js minified
is part of the open source project https://github.com/wakeupthecat/gastona

Copyright (C) 2015,2016,2017 Alejandro Xalabarder Aulet
@license : GNU General Public License (GPL) version 3

This program is distributed in the hope that it will be useful, but WITHOUT ANY
WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
PARTICULAR PURPOSE. See the GNU General Public License for more details.
*/
"use strict";function evaFileObj(t){function e(t){var e=[];for(var n in t)e.push("#"+n+"#"),e.push(""),e.push(a(t[n])),e.push("");return e.join("\n")}function a(t){var e=[];for(var a in t)e.push(""),e.push("   <"+a+">"),e.push(""),e.push(n(t[a]));return e.join("\n")}function n(t){var e=[],a="";for(var n in t){a="      ";for(var i in t[n])i>0&&(a+=", "),i==t[n].length-1&&(a+="//"),a+=t[n][i];e.push(a)}return e.join("\n")}return"string"==typeof t&&(t=evaFileStr2obj(t)),{obj:t,toText:function(){return e(t)},toString:function(){return e(t)},evaFileObj2Text:e,evaUnitObj2Text:a,evaObj2Text:n}}function evaFile(t){alert("evaFile function name is deprecated! please use evaFileStr2obj instead"),evaFileStr2obj(t)}function evaFileUTF82obj(t){return evaFileStr2obj(decodeURIComponent(t.replace(/\+/g,"%20")))}function evaFileStr2obj(t){function e(t,e,a){if(t.charAt(0)===e){var n=t.indexOf(a,1);return n>0?{name:t.substr(1,n-1),rest:t.substr(n+1).trim()}:void 0}}function a(t){function e(){return r>=t.length}function a(){for(var a="";r<t.length&&(" "==t.charAt(r)||"	"==t.charAt(r));)r++;if(e())return null;if("'"==t.charAt(r))return a=t.substring(r+1),r=i,a;if("/"==t.charAt(r)&&"/"==t.charAt(r+1))return a=t.substring(r+2),r=i,a;var n='"'==t.charAt(r),o=n?++r:r;do if(n)if('"'!=t.charAt(r))r++;else{if('"'!=t.charAt(r+1))break;a+=r+1>o?t.substring(o,r+1):"",r+=2,o=r}else{if(","==t.charAt(r))break;r++}while(!e());var s=r;if(!n)for(;s>o&&(" "===t.charAt(s-1)||"	"===t.charAt(s-1));)s--;if(s>o&&(a+=t.substring(o,s)),r++,n){for(;!e()&&","!=t.charAt(r);)r++;r++}return a}var n=[],i=t.length,r=0;do{var o=a();"string"==typeof o&&n.push(o)}while(!e());return n}function n(t){function n(t){r&&(f[r]=v.length>0?v:[[""]]),r=void 0,v=[],t&&(i&&(c[i]=f),i=void 0,f=[])}var i,r,o,s,l,d,u,c={},f={},v=[],l=t;"string"==typeof t&&(l=t.split("\n"));for(u in l)if(s=l[u].trim(),"<"!==s.charAt(0)||"!"!==s.charAt(1))if(o=e(s,"#","#")){if(o.name&&"*"===o.name.charAt(0)&&"*"==o.name.charAt(1))break;n(!0),i=o.name}else o=e(s,"<",">"),o&&(n(!1),r=o.name,s=o.rest,0==s.length)||s&&i&&r&&(d=a(s),d&&v.push(d));return n(!0),c}return"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),n(t)}function EvaLayout(t,e){function a(t,e){function a(t){var e=l,a=0,n=0;return t+="",0==t.length||0==t.indexOf(h)?e=l:0==t.indexOf(g)?(e=d,a=t.length<2?1:parseInt(t.substr(1))):(e=s,n=parseInt(t)),{type:e,len:n,extraPercent:a}}function n(t){var e=a(t||"");f.push(e),u+=e.extraPercent}function i(t,e){f[t]&&f[t].type==l&&(f[t].len=Math.max(f[t].len,e))}function r(){var a,n;c=t+t+e*(f.length-1);for(a in f)n=f[a],c+=n.len,u>0&&(n.extraPercent=n.extraPercent/u)}function o(t,a,n){var i=0;for(n=n||a;(n>=a||-1==n)&&a<f.length;a++)i+=e+f[a].len+f[a].extraPercent*t;return i}var s=0,l=1,d=2,u=0,c=0,f=[];return{margin:t,gap:e,fixedSize:function(){return c},regla:f,addItem:n,setLengthOfItemAt:i,endItems:r,getLengthInRange:o,countItems:function(){return f.length}}}function n(t){return b[1][t+1]}function i(t){return b[2+t][0]}function r(){return b.length-2}function o(t){return b[2+t].length-1}function s(t,e){return t+=2,e+=1,t>=0&&t<b.length&&e>=0&&e<b[t].length?b[t][e]:void 0}function l(){if(!y){c=a(parseInt(b[0][1])||0,parseInt(b[0][3])||0),f=a(parseInt(b[0][2])||0,parseInt(b[0][4])||0);for(var e=0,l=r(),d=0;l>d;d++){e=o(d),f.addItem(i(d));for(var u=0;e>u;u++){u<c.countItems()||c.addItem(n(u));var h=s(d,u);if(h){v&&console.log("precalc "+h);var g=t.getLayableByName(h);if(g){g.indxPos.ileft=u,g.indxPos.itop=d;for(var x=u;e>x+1&&s(d,x+1)===p;)x++;for(e>x+1&&s(d,x+1)===p+p&&(x=-1),g.indxPos.iright=x,x==u&&c.setLengthOfItemAt(u,g.iniRect.right-g.iniRect.left),x=d;l>x+1&&s(x+1,u)===m;)x++;l>x+1&&s(x+1,u)===m+m&&(x=-1),g.indxPos.ibottom=x,x==d&&f.setLengthOfItemAt(d,g.iniRect.bottom-g.iniRect.top),v&&console.log("precalc set "+h+" at "+g.indxPos.ileft+", "+g.indxPos.itop+", "+g.indxPos.iright+", "+g.indxPos.ibottom),g.isLaidOut=!0}}}}c.endItems(),f.endItems(),A.top=0,A.bottom=f.fixedSize(),A.left=0,A.right=c.fixedSize(),y=!0}}function d(e,a,n,i){l();for(var r=Math.max(0,i-f.fixedSize()),o=Math.max(0,n-c.fixedSize()),d=e+c.margin,u=0;u<c.countItems();u++){u>0&&(d+=c.getLengthInRange(o,u-1));for(var h=a+f.margin,g=0;g<f.countItems();g++){g>0&&(h+=f.getLengthInRange(r,g-1));var p=s(g,u);if(p){var m=t.getLayableByName(p);if(m)if(m.isLaidOut){var y=-c.gap,b=-f.gap;if(y+=c.getLengthInRange(o,m.indxPos.ileft,m.indxPos.iright),b+=f.getLengthInRange(r,m.indxPos.itop,m.indxPos.ibottom),0>d||0>h||0>y||0>b){v&&console.log("esto "+p+" no se ve na de na "+d+", "+h+", "+y+", "+b);continue}v&&console.log("widget "+p+" set at "+d+", "+h+" dim "+y+" x "+b),m.doMove(d,h,y,b),m.doShow(!0)}else v&&console.log("esto "+p+" lo oculto "),m.doShow(!1)}}}}function u(e){l();for(var a=0;a<c.countItems();a++)for(var n=0;n<f.countItems();n++){var i=t.getLayableByName(s(n,a));i&&i.doShow(e)}}var c,f,v=0,h="A",g="X",p="-",m="+",y=!1,b=t.guiLayouts[e],A={left:0,right:200,top:0,bottom:20},x={ileft:0,iright:0,itop:0,ibottom:0};return b?b[0][0].match(/^eva$|^evalayout$/i)?{precalculateLayout:l,wName:e,isLaidOut:!1,iniRect:A,indxPos:x,invalidate:function(){y=!1},isWidget:!1,doMove:d,doShow:u}:void 0:void console.log('ERROR: no eva found with name "'+e+'"')}function layoutManager(t,e){function a(t,e,a){for(a in t)if(t[a]===e)return console.log("ERROR: layout element "+e+" already exists, it cannot be stacked!"),!1;return!0}function n(t){m&&m===t||i(),m=t}function i(){for(var t in R){var e=R[t];e.isWidget?e.doShow(!1):e.invalidate()}}function r(t,e){var a=document.getElementById(t);if(a&&!e){var n=a.offsetHeight+1,i=a.offsetWidth+1;y&&console.log("element "+t+" content["+a.innerHTML+"] estimates "+i+" x "+n),n>1&&(e={left:0,right:1.2*i,top:0,bottom:1.2*n})}return{wName:t,isLaidOut:!1,iniRect:e||{left:0,right:200,top:0,bottom:20},indxPos:{ileft:0,iright:0,itop:0,ibottom:0},isWidget:!0,doMove:function(e,a,n,i){var r=document.getElementById(t);r?(r.style.position="absolute",r.style.left=Math.round(e)+"px",r.style.top=Math.round(a)+"px",r.style.width=Math.round(n)+"px",r.style.height=Math.round(i)+"px"):console.log("ERROR expected html element "+t+" not found!")},doShow:function(e){var a=document.getElementById(t);a&&(a.style.visibility=e?"visible":"hidden")}}}function o(t){if(""!==t&&u(t)){var e=R[d(t)];return e?(a(x,e.wName)&&(e.isWidget||e.precalculateLayout()),e):(console.log("ERROR: don't know how to find "+t+" or "+d(t)),r("bDummy"))}}function s(t,e){A[t]=e&&""!==e&&t!==e?e:void 0,p=!0,i()}function l(t){A[t]=void 0,p=!0,i()}function d(t){var e,a,n=[];if(!u(t))return t;do{if(e=A[t],!e||""===e||e===t)return t;for(a in n)if(n[a]===e)return console.log("ERROR: masks for "+t+" found circular!"),t;n.push(t),t=e}while(n.length<200);return console.log("ERROR: masks for "+t+" too deep!"),t}function u(t){return t&&0!=t.length?t.match(/^[^+-]/):!1}function c(){return{guiLayouts:h,guiConfig:g,getLayableByName:o}}function f(t){if(g={},h=t.layouts,!h){h={};var e=t.jGuix||t.guix||t.javaj;if(!e)return void console.log("Error: unit layouts not found!");for(var a in e)0==a.indexOf("layout of ")?h[a.substr(10)]=e[a]:g[a]=e[a]}p=!0,A={},x=[],R={};for(var n in h){var i=EvaLayout(c(),n);i&&(R[n]=i)}for(var n in h)for(var a=h[n],o=2;o<a.length;o++)for(var s=1;s<a[o].length;s++){var l=a[o][s];u(l)&&(R[l]||(b(l),R[l]=r(l)))}}function v(t,e,a,i,r){t=t||"main",n(t);var s=o(t);s&&(x.push(s.wName),s.doMove(e,a,i,r),x.pop())}var h,g,p,m,y=!1,b=e||function(t){console.log("adding widget id ["+t+"]")},A={},x=[],R={};return f(t),{guiConfig:g,loadConfig:function(e){t=e,f(t)},maskLayoutId:s,unmaskLayoutId:l,doShowLayout:function(t,e,a){v(t,0,0,e,a)},setLayout:function(t){n(t)},doLayout:function(t,e){v(m,0,0,t,e)}}}function httPack(t,e){function a(t){return s?encodeURIComponent((""+t).replace(/'/g,"%27")):t+""}function n(t,n){function i(n){if(!s)return e[t[n]];var i=[],r=e[t[n]];for(var o in r){var l=[];for(var d in r[o])l.push(a(r[o][d]));i.push(l)}return i}function r(n){function i(t){var e=[];for(var a in t)for(var n in t[a])e.push(n>0?",":""+t[a][n]);return e.join("\n")}return a(i(e[t[n]]))}if(!t){t=[];for(var o in e)t.push(o)}var l,d="";if("propval"===n){var u=[];for(l in t)u.push(t[l]+":"+r(l));d=u.join("\n")}else if("json"===n){var c={};for(l in t)c[t[l]]=i(l);d=JSON.stringify(c)}else if("eva"===n){var f=evaFileObj("#data#\n"),v=f.obj.data;for(l in t)v[t[l]]=i(l);d=f.toText()}else alert("ERROR: calling formatBody with not supported format ["+n+"]");return d}var i={onelineparams:"",headers:{},body:""},r="",o=[],s=!0;if("string"==typeof t)o=[t];else{t=t||{},s=t.encodeUTF8!==!1,i.headers=t.headers||{};var l=t.params||t.parameters||{};if("string"==typeof l)o=[l];else for(var d in l)o.push(d+"="+a(l[d]));r=t.body,"string"!=typeof r&&(r=n(t.bodyVars,t.bodyVarsFormat||"eva"))}return i.onelineparams=o.join("&"),i.body=r,i}function httUnpack(t,e){var a={},n={},i=e.getResponseHeader("Content-Type");if(i&&(n={},r=i.split(";"),-1!==r.indexOf("text/eva")?n=evaFileStr2obj(t):-1!==r.indexOf("text/evas")?n=evaFileStr2obj("#anonima#\n"+t).anonima:-1!==r.indexOf("text/json")&&(n=JSON.parse(t))),0===n.length&&(n.rawBody=t),a["obj-body"]=n,i=e.getResponseHeader("XParamsInOneLine")){n={};var r=i.split("&");for(var o in r){var s=r[o].split("=");2===s.length?n[s[0]]=decodeURIComponent(s[1]):console.log("ERROR on XParamsInOneLine variable ["+r[o]+"]")}a["obj-params"]=n}n={};var l=e.getAllResponseHeaders().split("\n");for(var d in l){var u=l[d].split(":",1);u&&u[0]&&(n[u[0]]=e.getResponseHeader(u[0]))}return a["obj-headers"]=n,a}function jGastona(evaConfig,existingPlaceId){function getWindowWidth(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}function getWindowHeight(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}function mask(t,e){layMan&&(layMan.maskLayoutId(t,e),adaptaLayout())}function unmask(t){layMan&&(layMan.unmaskLayoutId(t),adaptaLayout())}function isEvaValue(t){return Array.isArray(t)&&t.length>0&&Array.isArray(t[0])}function isEvaSingleValue(t){return isEvaValue(t)&&1==t.length&&1==t[0].length}function isEvaEmpty(t){return isEvaSingleValue(t)&&""===t[0][0]}function strStartsWith(t,e,a){return a=a||0,t.indexOf(e,a)===a}function htmlElem(t){return"string"==typeof t?document.getElementById(t):t}function adaptaLayout(){if(layMan){var t=getWindowWidth()-15,e=getWindowHeight()-15,a=layMan.guiConfig.layoutWindowLimits;if(a&&a[0]){var n=parseInt("0"|a[0][0]),i=parseInt("0"|a[0][1]),r=parseInt("0"|a[0][2]),o=parseInt("0"|a[0][3]);t=Math.max(t,n),e=Math.max(e,i),r>0&&(t=Math.min(t,r)),o>0&&(e=Math.min(e,o))}layMan&&layMan.doLayout(t,e)}}function loadJast(t,e){if(javajzWidgets={},dataUnit={},listixUnit={},layMan=void 0,t){if(dataUnit=t.data||{},listixUnit=t.jListix||t.jlistix||t.listix||{},!corpiny){var a=e?e:"jGastonaStammHtmlElem";document.getElementById(a)||(document.body.innerHTML="<div id='"+a+"' style = 'position:relative;'></div>"),corpiny=document.getElementById(a)}for(corpiny||alert("ERROR no "+a+" no fun!");corpiny.hasChildNodes();)corpiny.removeChild(corpiny.firstChild);layMan=layoutManager(t,onAddWidget),adaptaLayout();var n=listixUnit.main;n&&executeListixFormat(n)}}function getCellEvaUnit(t,e,a,n){return t[e]?t[e][a||"0"][n||"0"]||"":""}function getData(t){return dataUnit[t]?dataUnit[t]:void 0}function getDataCell(t,e,a){return getCellEvaUnit(dataUnit,t,e,a)}function setDataCell(t,e,a,n){a=a||"0",n=n||"0",dataUnit[t]||(dataUnit[t]=[[""]]),dataUnit[t][a]||(dataUnit[t][a]=[""]),dataUnit[t][a][n]=e||""}function setData(t,e){"string"==typeof e?(dataUnit[t]=[[""]],setDataCell(t,e)):isEvaValue(e)?dataUnit[t]=e:alert('Error: setData "'+t+'", the value is not a string nor looks like an eva variable');var a=getzWidgetByName(t);a&&updatezWidget(a)}function mensaka(t){var e=t.indexOf(" ");if(e>0){var a=t.substr(0,e),n=t.substr(e+1);if(javajzWidgets[a])return void(javajzWidgets[a][n]?javajzWidgets[a][n]():console.log("Error: widget "+a+" has no method '"+n+"'"))}var i=dataUnit["-- "+t]||listixUnit["-- "+t];return i?void executeListixFormat(i):void console.log('ignoring mensaka "'+t+'"')}function executeListixFormat(fbody){eval(fbody.join("\n"))}function setVarTable_DimVal(t){var e=[["dimension","value"]];for(var a in t)e.push([t[a],getDataCell(t[a])]);dataUnit.varTable_DimVal=e}function setValueToElement(t,e){t&&("string"==typeof t.value?t.value=e:t.innerHTML=e)}function onAddWidget(t){function e(t){if(t.length<=2)return"";for(var e=t[1],a=2;a<t.length;a++)"_"==t[a]?e+=" ":(t[a]<"Z"&&" "!=e[e.length-1]&&(e+=" "),e+=t[a]);return e}if(t&&0!=t.length){var a,n=function(){this.innerHTML=dataUnit[t]?getDataCell(t):e(t)},i=function(){this.innerHTML=dataUnit[t]?getDataCell(t):e(t.substr(1))},r=function(){setValueToElement(this,getDataCell(t))},o=function(){this.value=""},s=function(){this.style["background-image"]="url('"+getDataCell(t)+"')"},l=function(){dataUnit[t][0]=[this.value||"?"]},d=function(){dataUnit[t]=[[]];var e=this.value||"?",a=e.split("\n");for(var n in a)dataUnit[t][n]=[a[n]]},u=function(){mensaka(t)},c=dataUnit["class of "+t],f=c?c[0][0]:t;switch(f.charAt(0)){case"d":a=fabricaStandard("div",t,{"data!":n});break;case"n":a=fabricaStandard("a",t,{href:"login","data!":n});break;case"b":a=fabricaStandard("button",t,{onclick:u,"data!":n});break;case"e":a=fabricaStandard("input",t,{type:"text",onchange:l,placeholder:e(t),"data!":r});break;case"u":a=fabricaStandard("input",t,{type:"file",onchange:u,"data!":o});break;case"m":a=fabricaStandard("div",t,{"data!":s}),a.style["background-position"]="center center",a.style["background-repeat"]="no-repeat",a.style["background-size"]="contain";break;case"p":a=fabricaStandard("input",t,{type:"password",placeholder:"password",onchange:l,"data!":r});break;case"h":f.length<2||(a=fabricaStandard("h"+f.charAt(1),t,{"data!":i}));break;case"l":a=fabricaStandard("label",t,{"data!":n});break;case"x":var v=function(){var t,e="";if(!isEvaEmpty(dataUnit[this.id]))for(t in dataUnit[this.id])e+=dataUnit[this.id][t]+"\n";setValueToElement(this,e)};a=fabricaStandard("textarea",t,{placeholder:e(t),"data!":v,onchange:d});break;case"t":var v=function(){for(var t,e,a,n,i,r=dataUnit[this.id];this.hasChildNodes();)this.removeChild(this.firstChild);t=document.createElement("table"),t.id=this.id+"-table";for(n in r)if(isEvaEmpty(r));else{e=document.createElement("tr");for(i in r[n])a=document.createElement("0"===n?"th":"td"),setValueToElement(a,r[n][i]),e.appendChild(a);t.appendChild(e)}this.appendChild(t)};a=fabricaSimpleTable(t,{"data!":v});break;case"c":case"r":case"k":case"i":var h=[],g=[],p=0,m=0;for(var y in dataUnit[t])"0"===y?(p=dataUnit[t][y].indexOf("label"),-1==p&&(p=0),m=dataUnit[t][y].indexOf("value"),-1==m&&(m=0)):(g.push(dataUnit[t][y][m]||"?"),h.push(dataUnit[t][y][p]||"?"));var b=dataUnit[t+" orientation"]||"X";"c"==t.charAt(0)&&corpiny.appendChild(fabricaSelectList(t,g,h,!1)),"i"==t.charAt(0)&&corpiny.appendChild(fabricaSelectList(t,g,h,!0)),"r"==t.charAt(0)&&corpiny.appendChild(fabricaGrupo("radio",b,t,g,h)),"k"==t.charAt(0)&&corpiny.appendChild(fabricaGrupo("checkbox",b,t,g,h))}a&&(javajzWidgets[t]=a,corpiny.appendChild(a),updatezWidget(a),dataUnit[t]||(dataUnit[t]=[[""]]))}}function getzWidgetByName(t){return javajzWidgets[t]}function updatezWidget(t){t&&(t["data!"]?t["data!"]():alert("ERROR (updateWidget) zwidget /"+t.id+"/ with no 'data!' message"))}function str2Var(str){var str2="";return str2="string"!=typeof str?str.join("\n"):str,str2.match(/^\s*[\"\']/)?str2.substr(1):str2.match(/^\s*[\[\{]/)?eval("(function () { return "+str2+";}) ()"):str2}function fabricaStandard(typestr,name,atts){var ele=document.createElement(typestr);ele.id=name,ele.style.visibility="hidden",ele.spellcheck=!1;for(var aa in atts)ele[aa]=atts[aa];"input"!==typestr||dataUnit[name]||(dataUnit[name]=[[""]]);for(var dd in dataUnit)if(strStartsWith(dd,name+" ")){var attrib=dd.substr(name.length+1),value=dataUnit[dd];strStartsWith(attrib,"on")?ele.addEventListener(attrib.substr(2),function(){eval(str2Var(value))}):"class"==attrib?ele.className=value:"+class"==attrib&&(ele.className+=" "+value);try{ele[attrib]=str2Var(value)}catch(err){}}return ele}function selectAllColumnsFromTable(t,e,a){if(!t||!t[e]||!t[e][0])return!1;var n=t[e][0],i=n.indexOf("value");-1===i&&(i=0);for(var r in n)delete t[e+" selected."+n[r]];for(var o=1;o<t[e].length;o++)if(t[e][o][i]===a){for(var r in n)t[e+" selected."+n[r]]=[[t[e][o][r]||"?"]];return!0}return!1}function whenChangeTableSelection(t,e){selectAllColumnsFromTable(dataUnit,t,e||"?")?dataUnit[t+"_value"]=[[e||"?"]]:delete dataUnit[t+"_value"],mensaka(t)}function fabricaSelectList(t,e,a,n){var i=document.createElement("select");n&&(i.multiple="si"),i.id=t,i.style.visibility="hidden",i.addEventListener("change",function(){whenChangeTableSelection(t,this.value)});for(var r in e){var o=document.createElement("option");o.value=e[r],o["data!"]=function(){},o.appendChild(document.createTextNode(a[r])),i.appendChild(o)}return i}function fabricaGrupo(t,e,a,n,i){var r=document.createElement("div");r.id=a,r.style.visibility="hidden";for(var o in n){var s=document.createElement("input");s.type=t,s.name=a,s.value=n[o],s.label=i[o],s["data!"]=function(){},s.addEventListener("change",function(){whenChangeTableSelection(a,this.value)}),"0"===o||"Y"!=e&&"V"!=e||r.appendChild(document.createElement("br")),r.appendChild(s),r.appendChild(document.createTextNode(i[o]))}return r}function fabricaSimpleTable(t,e){var a=document.createElement("div");a.id=t,a.widgetype="t",a.style.visibility="hidden";for(var n in e)a[n]=e[n];return a}function canUploadFile(t,e,a,n){var i=htmlElem(t),r=i.files[0],o=e;return r&&""!==r?o&&o>0&&r.size>1024*o*1024?(""!==n&&alert(n?n:"File is too big to be uploaded, limit is "+e+" MB"),!1):!0:(""!==a&&alert(a?a:"Please first choose a file!"),!1)}function jaxGetHttpReq(){return window.XMLHttpRequest?new XMLHttpRequest:window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):void alert("Your browser does not support AJAX!")}function ajaxGenericPreProcessResponse(){}function AJAXAnyMethodRaw(t,e,a,n,i){var r=jaxGetHttpReq();if(!r)return!1;var o=e.substring(0,e.indexOf("?"));if(0==o.length&&(o=e),r.onreadystatechange=function(){4==r.readyState&&200==r.status&&(ajaxGenericPreProcessResponse(r),"function"==typeof i?i(r.responseText,r):"object"==typeof i&&Object.assign(i,httUnpack(r.responseText,r)),mensaka(AJAX_RESPONSE_MESSAGE+" "+o))},r.open(t,e,!0),n)for(var s in n)r.setRequestHeader(s,n[s]);r.send(a||"")}function AJAXPostRaw(t,e,a,n){return AJAXAnyMethodRaw("POST",t,e,a,n)}function AJAXSend(t,e,a){var n=httPack(e,dataUnit);AJAXPostRaw(t+"?"+n.onelineparams,n.body,n.headers,a)}function AJAXUploadFile(t,e,a,n){if(!t)return!1;var i=htmlElem(t),r=i.files[0];if(!r||""===r)return!1;var o=new FormData;return o.append("filename",r),AJAXPostRaw(e+"?fileName="+r,o,a,n),!0}function AJAXLoadRootJast(t,e){AJAXPostRaw("loadRootJast?jastName="+t,"",null,function(t){loadJast(evaFileStr2obj(t),e)})}function AJAXgetIdContent(){alert("ops! this function is deprecated! use AJAXgetDataForId instead")}function AJAXgetDataForId(t,e,a,n){var i=httPack(e,dataUnit);AJAXPostRaw("getDataForId?id="+t+"&"+i.onelineparams,i.body,i.headers,function(e){setContentsFromBody(t,e,a,n)})}function setContentsFromBody(t,e,a,n){var i=a?"":e;if(a){for(var r=e.split("\n"),o=0;o<r.length;){var s=/([^:]*):(.*)/.exec(r[o++]);if(s){if(""===s[1])break;setData(s[1],s[2])}}for(var l=o;l<r.length;l++)i=i+(l!=o?"\n":"")+r[l]}if(n){var d=document.getElementById(t);d&&setValueToElement(d,i)}else setData(t,i)}var dataUnit,listixUnit,corpiny,layMan,javajzWidgets,minWidth=-1,minHeight=-1,AJAX_RESPONSE_MESSAGE="ajaxResponse";return loadJast(evaConfig,existingPlaceId),document.body.onresize=adaptaLayout,{getLayoutMan:function(){return layMan},mensaka:mensaka,getIdValue:function(t){var e=document.getElementById(t);return e?e.value:getDataCell(t)},getData:getData,getDataCell:getDataCell,setData:setData,setDataCell:setDataCell,setVarTable_DimVal:setVarTable_DimVal,getCellEvaUnit:getCellEvaUnit,adapta:adaptaLayout,mask:mask,unmask:unmask,htmlElem:htmlElem,canUploadFile:canUploadFile,AJAXAnyMethodRaw:AJAXAnyMethodRaw,AJAXPostRaw:AJAXPostRaw,AJAXSend:AJAXSend,AJAXUploadFile:AJAXUploadFile,AJAXLoadRootJast:AJAXLoadRootJast,AJAXgetDataForId:AJAXgetDataForId}}