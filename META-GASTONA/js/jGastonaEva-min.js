/*
jGastonaEva-min.js version 1.17.04.23 / guiala
composed by Eva.js + EvaLayout.js + LayoutManager.js + httSaco.js + jGastona.js minified
is part of the open source project https://github.com/wakeupthecat/gastona

Copyright (C) 2015,2016,2017 Alejandro Xalabarder Aulet
License : GNU General Public License (GPL) version 3

This program is distributed in the hope that it will be useful, but WITHOUT ANY
WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
PARTICULAR PURPOSE. See the GNU General Public License for more details.
*/
"use strict";function evaFileObj(r){function t(r){var t=[];for(var e in r)t.push("#"+e+"#"),t.push(""),t.push(n(r[e])),t.push("");return t.join("\n")}function n(r){var t=[];for(var n in r)t.push(""),t.push("   <"+n+">"),t.push(""),t.push(e(r[n]));return t.join("\n")}function e(r){var t=[],n="";for(var e in r){n="      ";for(var i in r[e])i>0&&(n+=", "),i==r[e].length-1&&(n+="//"),n+=r[e][i];t.push(n)}return t.join("\n")}return"string"==typeof r&&(r=evaFileStr2obj(r)),{obj:r,toText:function(){return t(r)},toString:function(){return t(r)},evaFileObj2Text:t,evaUnitObj2Text:n,evaObj2Text:e}}function evaFile(r){alert("evaFile function name is deprecated! please use evaFileStr2obj instead"),evaFileStr2obj(r)}function evaFileUTF82obj(r){return evaFileStr2obj(decodeURIComponent(r.replace(/\+/g,"%20")))}function evaFileStr2obj(r){function t(r,t,n){if(r.charAt(0)===t){var e=r.indexOf(n,1);return e>0?{name:r.substr(1,e-1),rest:r.substr(e+1).trim()}:void 0}}function n(r){function t(){return a>=r.length}function n(){for(var n="";a<r.length&&(" "==r.charAt(a)||"	"==r.charAt(a));)a++;if(t())return null;if("'"==r.charAt(a))return n=r.substring(a+1),a=i,n;if("/"==r.charAt(a)&&"/"==r.charAt(a+1))return n=r.substring(a+2),a=i,n;var e='"'==r.charAt(a),o=e?++a:a;do if(e)if('"'!=r.charAt(a))a++;else{if('"'!=r.charAt(a+1))break;n+=a+1>o?r.substring(o,a+1):"",a+=2,o=a}else{if(","==r.charAt(a))break;a++}while(!t());var u=a;if(!e)for(;u>o&&(" "===r.charAt(u-1)||"	"===r.charAt(u-1));)u--;if(u>o&&(n+=r.substring(o,u)),a++,e){for(;!t()&&","!=r.charAt(a);)a++;a++}return n}var e=[],i=r.length,a=0;do{var o=n();"string"==typeof o&&e.push(o)}while(!t());return e}function e(r){function e(r){a&&(v[a]=l.length>0?l:[[""]]),a=void 0,l=[],r&&(i&&(h[i]=v),i=void 0,v=[])}var i,a,o,u,f,c,s,h={},v={},l=[],f=r;"string"==typeof r&&(f=r.split("\n"));for(s in f)if(u=f[s].trim(),"<"!==u.charAt(0)||"!"!==u.charAt(1))if(o=t(u,"#","#")){if(o.name&&"*"===o.name.charAt(0)&&"*"==o.name.charAt(1))break;e(!0),i=o.name}else o=t(u,"<",">"),o&&(e(!1),a=o.name,u=o.rest,0==u.length)||u&&i&&a&&(c=n(u),c&&l.push(c));return e(!0),h}return"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),e(r)}
function EvaLayout(t,e){function a(t,e){function a(t){var e=l,a=0,n=0;return t+="",0==t.length||0==t.indexOf(g)?e=l:0==t.indexOf(v)?(e=s,a=t.length<2?1:parseInt(t.substr(1))):(e=d,n=parseInt(t)),{type:e,len:n,extraPercent:a}}function n(t){var e=a(t||"");f.push(e),c+=e.extraPercent}function i(t,e){f[t]&&f[t].type==l&&(f[t].len=Math.max(f[t].len,e))}function r(){var a,n;u=t+t+e*(f.length-1);for(a in f)n=f[a],u+=n.len,c>0&&(n.extraPercent=n.extraPercent/c)}function o(t,a,n){var i=0;for(n=n||a;(n>=a||-1==n)&&a<f.length;a++)i+=e+f[a].len+f[a].extraPercent*t;return i}var d=0,l=1,s=2,c=0,u=0,f=[];return{margin:t,gap:e,fixedSize:function(){return u},regla:f,addItem:n,setLengthOfItemAt:i,endItems:r,getLengthInRange:o,countItems:function(){return f.length}}}function n(t){return b[1][t+1]}function i(t){return b[2+t][0]}function r(){return b.length-2}function o(t){return b[2+t].length-1}function d(t,e){return t+=2,e+=1,t>=0&&t<b.length&&e>=0&&e<b[t].length?b[t][e]:void 0}function l(){if(!y){u=a(parseInt(b[0][1])||0,parseInt(b[0][3])||0),f=a(parseInt(b[0][2])||0,parseInt(b[0][4])||0);for(var e=0,l=r(),s=0;l>s;s++){e=o(s),f.addItem(i(s));for(var c=0;e>c;c++){c<u.countItems()||u.addItem(n(c));var g=d(s,c);if(g){m&&console.log("precalc "+g);var v=t.getLayableByName(g);if(v){v.indxPos.ileft=c,v.indxPos.itop=s;for(var x=c;e>x+1&&d(s,x+1)===h;)x++;for(e>x+1&&d(s,x+1)===h+h&&(x=-1),v.indxPos.iright=x,x==c&&u.setLengthOfItemAt(c,v.iniRect.right-v.iniRect.left),x=s;l>x+1&&d(x+1,c)===p;)x++;l>x+1&&d(x+1,c)===p+p&&(x=-1),v.indxPos.ibottom=x,x==s&&f.setLengthOfItemAt(s,v.iniRect.bottom-v.iniRect.top),m&&console.log("precalc set "+g+" at "+v.indxPos.ileft+", "+v.indxPos.itop+", "+v.indxPos.iright+", "+v.indxPos.ibottom),v.isLaidOut=!0}}}}u.endItems(),f.endItems(),A.top=0,A.bottom=f.fixedSize(),A.left=0,A.right=u.fixedSize(),y=!0}}function s(e,a,n,i){l();for(var r=Math.max(0,i-f.fixedSize()),o=Math.max(0,n-u.fixedSize()),s=e+u.margin,c=0;c<u.countItems();c++){c>0&&(s+=u.getLengthInRange(o,c-1));for(var g=a+f.margin,v=0;v<f.countItems();v++){v>0&&(g+=f.getLengthInRange(r,v-1));var h=d(v,c);if(h){var p=t.getLayableByName(h);if(p)if(p.isLaidOut){var y=-u.gap,b=-f.gap;if(y+=u.getLengthInRange(o,p.indxPos.ileft,p.indxPos.iright),b+=f.getLengthInRange(r,p.indxPos.itop,p.indxPos.ibottom),0>s||0>g||0>y||0>b){m&&console.log("esto "+h+" no se ve na de na "+s+", "+g+", "+y+", "+b);continue}m&&console.log("widget "+h+" set at "+s+", "+g+" dim "+y+" x "+b),p.doMove(s,g,y,b),p.doShow(!0)}else m&&console.log("esto "+h+" lo oculto "),p.doShow(!1)}}}}function c(e){l();for(var a=0;a<u.countItems();a++)for(var n=0;n<f.countItems();n++){var i=t.getLayableByName(d(n,a));i&&i.doShow(e)}}var u,f,m=0,g="A",v="X",h="-",p="+",y=!1,b=t.guiLayouts[e],A={left:0,right:200,top:0,bottom:20},x={ileft:0,iright:0,itop:0,ibottom:0};return b?b[0][0].match(/^eva$|^evalayout$/i)?{precalculateLayout:l,wName:e,isLaidOut:!1,iniRect:A,indxPos:x,invalidate:function(){y=!1},isWidget:!1,doMove:s,doShow:c}:void 0:void console.log('ERROR: no eva found with name "'+e+'"')}
function layoutManager(t,e){"use strict";function a(t,e,a){for(a in t)if(t[a]===e)return console.log("ERROR: layout element "+e+" already exists, it cannot be stacked!"),!1;return!0}function n(t){p&&p===t||i(),p=t}function i(){for(var t in A){var e=A[t];e.isWidget?e.doShow(!1):e.invalidate()}}function o(t,e){var a=document.getElementById(t);if(a&&!e){var n=a.offsetHeight+1,i=a.offsetWidth+1;y&&console.log("element "+t+" content["+a.innerHTML+"] estimates "+i+" x "+n),n>1&&(e={left:0,right:1.2*i,top:0,bottom:1.2*n})}return{wName:t,isLaidOut:!1,iniRect:e||{left:0,right:200,top:0,bottom:20},indxPos:{ileft:0,iright:0,itop:0,ibottom:0},isWidget:!0,doMove:function(e,a,n,i){var o=document.getElementById(t);o?(o.style.position="absolute",o.style.left=Math.round(e)+"px",o.style.top=Math.round(a)+"px",o.style.width=Math.round(n)+"px",o.style.height=Math.round(i)+"px"):console.log("ERROR expected html element "+t+" not found!")},doShow:function(e){var a=document.getElementById(t);a&&(a.style.visibility=e?"visible":"hidden")}}}function r(t){if(""!==t&&u(t)){var e=A[s(t)];return e?(a(E,e.wName)&&(e.isWidget||e.precalculateLayout()),e):(console.log("ERROR: don't know how to find "+t+" or "+s(t)),o("bDummy"))}}function d(t,e){x[t]=e&&""!==e&&t!==e?e:void 0,h=!0,i()}function l(t){x[t]=void 0,h=!0,i()}function s(t){var e,a,n=[];if(!u(t))return t;do{if(e=x[t],!e||""===e||e===t)return t;for(a in n)if(n[a]===e)return console.log("ERROR: masks for "+t+" found circular!"),t;n.push(t),t=e}while(n.length<200);return console.log("ERROR: masks for "+t+" too deep!"),t}function u(t){return t&&0!=t.length?t.match(/^[^+-]/):!1}function c(){return{guiLayouts:m,guiConfig:v,getLayableByName:r}}function f(t){if(v={},m=t.layouts,!m){m={};var e=t.jGuix||t.guix||t.javaj;if(!e)return void console.log("Error: unit layouts not found!");for(var a in e)0==a.indexOf("layout of ")?m[a.substr(10)]=e[a]:v[a]=e[a]}h=!0,x={},E=[],A={};for(var n in m){var i=EvaLayout(c(),n);i&&(A[n]=i)}var a,r,d,l,s,f;for(n in m){a=m[n],d=a.length;for(var r=2;d>r;r++){s=a[r].length;for(var l=1;s>l;l++)f=a[r][l],u(f)&&(A[f]||(b(f),A[f]=o(f)))}}}function g(t,e,a,i,o){t=t||"main",n(t);var d=r(t);d&&(E.push(d.wName),d.doMove(e,a,i,o),E.pop())}var m,v,h,p,y=!1,b=e||function(t){console.log("adding widget id ["+t+"]")},x={},E=[],A={};return f(t),{guiConfig:v,loadConfig:function(e){t=e,f(t)},maskLayoutId:d,unmaskLayoutId:l,doShowLayout:function(t,e,a){g(t,0,0,e,a)},setLayout:function(t){n(t)},doLayout:function(t,e){g(p,0,0,t,e)}}}
function httPack(t,n){function e(t){return u?encodeURIComponent((""+t).replace(/'/g,"%27")):t+""}function r(t,r){function i(r){if(!u)return n[t[r]];var i=[],o=n[t[r]];for(var a in o){var f=[];for(var s in o[a])f.push(e(o[a][s]));i.push(f)}return i}function o(r){function i(t){var n=[];for(var e in t)for(var r in t[e])n.push(r>0?",":""+t[e][r]);return n.join("\n")}return e(i(n[t[r]]))}if(!t){t=[];for(var a in n)t.push(a)}var f,s="";if("propval"===r){var c=[];for(f in t)c.push(t[f]+":"+o(f));s=c.join("\n")}else if("json"===r){var l={};for(f in t)l[t[f]]=i(f);s=JSON.stringify(l)}else if("eva"===r){var h=evaFileObj("#data#\n"),v=h.obj.data;for(f in t)v[t[f]]=i(f);s=h.toText()}else alert("ERROR: calling formatBody with not supported format ["+r+"]");return s}var i={onelineparams:"",headers:{},body:""},o="",a=[],u=!0;if("string"==typeof t)a=[t];else{t=t||{},u=t.encodeUTF8!==!1,i.headers=t.headers||{};var f=t.params||t.parameters||{};if("string"==typeof f)a=[f];else for(var s in f)a.push(s+"="+e(f[s]));o=t.body,"string"!=typeof o&&(o=r(t.bodyVars,t.bodyVarsFormat||"eva"))}return i.onelineparams=a.join("&"),i.body=o,i}function httUnpack(t,n){var e={},r={},i=n.getResponseHeader("Content-Type");if(i&&(r={},o=i.split(";"),-1!==o.indexOf("text/eva")?r=evaFileStr2obj(t):-1!==o.indexOf("text/evas")?r=evaFileStr2obj("#anonima#\n"+t).anonima:-1!==o.indexOf("text/json")&&(r=JSON.parse(t))),0===r.length&&(r.rawBody=t),e["obj-body"]=r,i=n.getResponseHeader("XParamsInOneLine")){r={};var o=i.split("&");for(var a in o){var u=o[a].split("=");2===u.length?r[u[0]]=decodeURIComponent(u[1]):console.log("ERROR on XParamsInOneLine variable ["+o[a]+"]")}e["obj-params"]=r}r={};var f=n.getAllResponseHeaders().split("\n");for(var s in f){var c=f[s].split(":",1);c&&c[0]&&(r[c[0]]=n.getResponseHeader(c[0]))}return e["obj-headers"]=r,e}
function jGastona(evaConfig,existingPlaceId){"use strict";function getWindowWidth(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}function getWindowHeight(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}function mask(t,a){layMan&&(layMan.maskLayoutId(t,a),adaptaLayout())}function unmask(t){layMan&&(layMan.unmaskLayoutId(t),adaptaLayout())}function isEvaValue(t){return Array.isArray(t)&&t.length>0&&Array.isArray(t[0])}function isEvaSingleValue(t){return isEvaValue(t)&&1==t.length&&1==t[0].length}function isEvaEmpty(t){return isEvaSingleValue(t)&&""===t[0][0]}function strStartsWith(t,a,e){return e=e||0,t.indexOf(a,e)===e}function htmlElem(t){return"string"==typeof t?document.getElementById(t):t}function adaptaLayout(){if(layMan){var t=getWindowWidth()-15,a=getWindowHeight()-15,e=layMan.guiConfig.layoutWindowLimits;if(e&&e[0]){var n=parseInt("0"|e[0][0]),i=parseInt("0"|e[0][1]),r=parseInt("0"|e[0][2]),d=parseInt("0"|e[0][3]);t=Math.max(t,n),a=Math.max(a,i),r>0&&(t=Math.min(t,r)),d>0&&(a=Math.min(a,d))}layMan&&layMan.doLayout(t,a)}}function loadJast(t,a){if(javajzWidgets={},dataUnit={},listixUnit={},layMan=void 0,t){if(dataUnit=t.data||{},listixUnit=t.jListix||t.jlistix||t.listix||{},!corpiny){var e=a?a:"jGastonaStammHtmlElem";document.getElementById(e)||(document.body.innerHTML="<div id='"+e+"' style = 'position:relative;'></div>"),corpiny=document.getElementById(e)}for(corpiny||alert("ERROR no "+e+" no fun!");corpiny.hasChildNodes();)corpiny.removeChild(corpiny.firstChild);layMan=layoutManager(t,onAddWidget),adaptaLayout();var n=listixUnit.main;n&&executeListixFormat(n)}}function getCellEvaUnit(t,a,e,n){return t[a]?t[a][e||"0"][n||"0"]||"":""}function getData(t){return dataUnit[t]?dataUnit[t]:void 0}function getDataCell(t,a,e){return getCellEvaUnit(dataUnit,t,a,e)}function setDataCell(t,a,e,n){e=e||"0",n=n||"0",dataUnit[t]||(dataUnit[t]=[[""]]),dataUnit[t][e]||(dataUnit[t][e]=[""]),dataUnit[t][e][n]=a||""}function setData(t,a){"string"==typeof a?(dataUnit[t]=[[""]],setDataCell(t,a)):isEvaValue(a)?dataUnit[t]=a:alert('Error: setData "'+t+'", the value is not a string nor looks like an eva variable');var e=getzWidgetByName(t);e&&updatezWidget(e)}function mensaka(t){var a=t.indexOf(" ");if(a>0){var e=t.substr(0,a),n=t.substr(a+1);if(javajzWidgets[e])return void(javajzWidgets[e][n]?javajzWidgets[e][n]():console.log("Error: widget "+e+" has no method '"+n+"'"))}var i=dataUnit["-- "+t]||listixUnit["-- "+t];return i?void executeListixFormat(i):void console.log('ignoring mensaka "'+t+'"')}function executeListixFormat(fbody){var strBody="";for(var ii in fbody)strBody+=fbody[ii]+"\n";eval(strBody)}function setVarTable_DimVal(t){var a=[["dimension","value"]];for(var e in t)a.push([t[e],getDataCell(t[e])]);dataUnit.varTable_DimVal=a}function setValueToElement(t,a){t&&("string"==typeof t.value?t.value=a:t.innerHTML=a)}function onAddWidget(t){function a(t){if(t.length<=2)return"";for(var a=t[1],e=2;e<t.length;e++)"_"==t[e]?a+=" ":(t[e]<"Z"&&" "!=a[a.length-1]&&(a+=" "),a+=t[e]);return a}if(t&&0!=t.length){var e,n=function(){this.innerHTML=dataUnit[t]?getDataCell(t):a(t)},i=function(){this.innerHTML=dataUnit[t]?getDataCell(t):a(t.substr(1))},r=function(){setValueToElement(this,getDataCell(t))},d=function(){this.value=""},o=function(){this.style["background-image"]="url('"+getDataCell(t)+"')"},l=function(){dataUnit[t][0]=[this.value||"?"]},s=function(){dataUnit[t]=[[]];var a=this.value||"?",e=a.split("\n");for(var n in e)dataUnit[t][n]=[e[n]]},c=function(){mensaka(t)},u=dataUnit["class of "+t],f=u?u[0][0]:t;switch(f.charAt(0)){case"d":e=fabricaStandard("div",t,{"data!":n});break;case"n":e=fabricaStandard("a",t,{href:"login","data!":n});break;case"b":e=fabricaStandard("button",t,{onclick:c,"data!":n});break;case"e":e=fabricaStandard("input",t,{type:"text",onchange:l,placeholder:a(t),"data!":r});break;case"u":e=fabricaStandard("input",t,{type:"file",onchange:c,"data!":d});break;case"m":e=fabricaStandard("div",t,{"data!":o}),e.style["background-position"]="center center",e.style["background-repeat"]="no-repeat",e.style["background-size"]="contain";break;case"p":e=fabricaStandard("input",t,{type:"password",placeholder:"password",onchange:l,"data!":r});break;case"h":f.length<2||(e=fabricaStandard("h"+f.charAt(1),t,{"data!":i}));break;case"l":e=fabricaStandard("label",t,{"data!":n});break;case"x":var m=function(){var t,a="";if(!isEvaEmpty(dataUnit[this.id]))for(t in dataUnit[this.id])a+=dataUnit[this.id][t]+"\n";setValueToElement(this,a)};e=fabricaStandard("textarea",t,{placeholder:a(t),"data!":m,onchange:s});break;case"t":var m=function(){for(var t,a,e,n,i,r=dataUnit[this.id];this.hasChildNodes();)this.removeChild(this.firstChild);t=document.createElement("table"),t.id=this.id+"-table";for(n in r)if(isEvaEmpty(r));else{a=document.createElement("tr");for(i in r[n])e=document.createElement("0"===n?"th":"td"),setValueToElement(e,r[n][i]),a.appendChild(e);t.appendChild(a)}this.appendChild(t)};e=fabricaSimpleTable(t,{"data!":m});break;case"c":case"r":case"k":case"i":var v=[],h=[];for(var p in dataUnit[t])"0"!==p&&(h.push(dataUnit[t][p][0]||"?"),v.push(dataUnit[t][p][1]||"?"));var g=dataUnit[t+" orientation"]||"X";"c"==t.charAt(0)&&corpiny.appendChild(fabricaSelect(t,h,v,!1)),"i"==t.charAt(0)&&corpiny.appendChild(fabricaSelect(t,h,v,!0)),"r"==t.charAt(0)&&corpiny.appendChild(fabricaGrupo("radio",g,t,h,v)),"k"==t.charAt(0)&&corpiny.appendChild(fabricaGrupo("checkbox",g,t,h,v))}e&&(javajzWidgets[t]=e,corpiny.appendChild(e),updatezWidget(e),dataUnit[t]||(dataUnit[t]=[[""]]))}}function getzWidgetByName(t){return javajzWidgets[t]}function updatezWidget(t){t&&(t["data!"]?t["data!"]():alert("ERROR (updateWidget) zwidget /"+t.id+"/ with no 'data!' message"))}function str2Var(str){var str2="";return str2="string"!=typeof str?str.join("\n"):str,str2.match(/^\s*[\"\']/)?str2.substr(1):str2.match(/^\s*[\[\{]/)?eval("(function () { return "+str2+";}) ()"):str2}function fabricaStandard(typestr,name,atts){var ele=document.createElement(typestr);ele.id=name,ele.style.visibility="hidden",ele.spellcheck=!1;for(var aa in atts)ele[aa]=atts[aa];"input"!==typestr||dataUnit[name]||(dataUnit[name]=[[""]]);for(var dd in dataUnit)if(strStartsWith(dd,name+" ")){var attrib=dd.substr(name.length+1),value=dataUnit[dd];strStartsWith(attrib,"on")?ele.addEventListener(attrib.substr(2),function(){eval(str2Var(value))}):"class"==attrib?ele.className=value:"+class"==attrib&&(ele.className+=" "+value),ele[attrib]=str2Var(value)}return ele}function fabricaCombo(t,a,e){return fabricaSelect(t,a,e,!1)}function fabricaList(t,a,e){return fabricaSelect(t,a,e,!0)}function selectAllColumnsFromTable(t,a,e){if(t&&t[a]&&t[a][0])for(var n=t[a][0],i=1;i<t[a].length;i++)if(t[a][i][0]==e)for(var r in n)t[a+" selected."+n[r]]=[[t[a][i][r]||"?"]]}function fabricaSelect(t,a,e,n){var i=document.createElement("select");n&&(i.multiple="si"),i.id=t,i.style.visibility="hidden",i.addEventListener("change",function(){selectAllColumnsFromTable(dataUnit,t,this.value||"?"),dataUnit[t+"_value"]=[[this.value||"?"]],mensaka(t)});for(var r in a){var d=document.createElement("option");d.value=a[r],d["data!"]=function(){},d.appendChild(document.createTextNode(e[r])),i.appendChild(d)}return i}function fabricaGrupo(t,a,e,n,i){var r=document.createElement("div");r.id=e,r.style.visibility="hidden",r.addEventListener("change",function(){mensaka(e)});for(var d in n){var o=document.createElement("input");o.type=t,o.name=e,o.value=n[d],o.label=i[d],o["data!"]=function(){},o.addEventListener("change",function(){dataUnit[e+" selected.value"]=[[this.value||"?"]],dataUnit[e+" selected.label"]=[[this.label||"?"]],dataUnit[e+"_value"]=[[this.value||"?"]]}),"0"===d||"Y"!=a&&"V"!=a||r.appendChild(document.createElement("br")),r.appendChild(o),r.appendChild(document.createTextNode(i[d]))}return r}function fabricaSimpleTable(t,a){var e=document.createElement("div");e.id=t,e.widgetype="t",e.style.visibility="hidden";for(var n in a)e[n]=a[n];return e}function canUploadFile(t,a,e,n){var i=htmlElem(t),r=i.files[0],d=a;return r&&""!==r?d&&d>0&&r.size>1024*d*1024?(""!==n&&alert(n?n:"File is too big to be uploaded, limit is "+a+" MB"),!1):!0:(""!==e&&alert(e?e:"Please first choose a file!"),!1)}function jaxGetHttpReq(){return window.XMLHttpRequest?new XMLHttpRequest:window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):void alert("Your browser does not support AJAX!")}function ajaxGenericPreProcessResponse(){}function AJAXPostRaw(t,a,e,n){var i=jaxGetHttpReq();if(!i)return!1;var r=t.substring(0,t.indexOf("?"));if(0==r.length&&(r=t),i.onreadystatechange=function(){4==i.readyState&&200==i.status&&(ajaxGenericPreProcessResponse(i),"function"==typeof n?n(i.responseText,i):"object"==typeof n&&Object.assign(n,httUnpack(i.responseText,i)),mensaka(AJAX_RESPONSE_MESSAGE+" "+r))},i.open("POST",t,!0),e)for(var d in e)i.setRequestHeader(d,e[d]);i.send(a||"")}function AJAXSend(t,a,e){var n=httPack(a,dataUnit);AJAXPostRaw(t+"?"+n.onelineparams,n.body,n.headers,e)}function AJAXUploadFile(t,a,e,n){if(!t)return!1;var i=htmlElem(t),r=i.files[0];if(!r||""===r)return!1;var d=new FormData;return d.append("filename",r),AJAXPostRaw(a+"?fileName="+r,d,e,n),!0}function AJAXLoadRootJast(t,a){AJAXPostRaw("loadRootJast?jastName="+t,"",null,function(t){loadJast(evaFileStr2obj(t),a)})}function AJAXgetIdContent(){alert("ops! this function is deprecated! use AJAXgetDataForId instead")}function AJAXgetDataForId(t,a,e,n){var i=httPack(a,dataUnit);AJAXPostRaw("getDataForId?id="+t+"&"+i.onelineparams,i.body,i.headers,function(a){setContentsFromBody(t,a,e,n)})}function setContentsFromBody(t,a,e,n){var i=e?"":a;if(e){for(var r=a.split("\n"),d=0;d<r.length;){var o=/([^:]*):(.*)/.exec(r[d++]);if(o){if(""===o[1])break;setData(o[1],o[2])}}for(var l=d;l<r.length;l++)i=i+(l!=d?"\n":"")+r[l]}if(n){var s=document.getElementById(t);s&&setValueToElement(s,i)}else setData(t,i)}var dataUnit,listixUnit,corpiny,layMan,javajzWidgets,minWidth=-1,minHeight=-1,AJAX_RESPONSE_MESSAGE="ajaxResponse";return loadJast(evaConfig,existingPlaceId),document.body.onresize=adaptaLayout,{getLayoutMan:function(){return layMan},mensaka:mensaka,getIdValue:function(t){var a=document.getElementById(t);return a?a.value:getDataCell(t)},getData:getData,getDataCell:getDataCell,setData:setData,setDataCell:setDataCell,setVarTable_DimVal:setVarTable_DimVal,getCellEvaUnit:getCellEvaUnit,adapta:adaptaLayout,mask:mask,unmask:unmask,htmlElem:htmlElem,canUploadFile:canUploadFile,AJAXPostRaw:AJAXPostRaw,AJAXSend:AJAXSend,AJAXUploadFile:AJAXUploadFile,AJAXLoadRootJast:AJAXLoadRootJast,AJAXgetDataForId:AJAXgetDataForId}}
